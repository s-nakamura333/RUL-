<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RUL予測プロジェクト概要</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
</head>
<body>
  <h1>🔧 RUL予測プロジェクト：ターボエンジン残存耐用時間の予測について</h1>
  <p><strong>日付：</strong>2025年1月29日</p>

  <h2>📌 テーマ選定の理由</h2>
  <ul>
    <li>航空機ターボエンジンの使用状況のデータは非公開のことが多く、実際に触れる機会が貴重であるため。</li>
    <li>エンジン以外の様々な機器への応用可能性が高いため。</li>
  </ul>

  <h2>🏭 想定業界</h2>
  <p>エンジンや精密機器などの製造業</p>

  <h2>🏢 想定企業</h2>
  <ul>
    <li>三菱重工航空エンジン株式会社</li>
    <li>株式会社IHI</li>
  </ul>

  <h2>👥 想定ポジション</h2>
  <p>人事担当、現場責任者</p>

  <h2>🧱 背景</h2>
  <p>
    様々な産業において、生産性の向上や安全安心な社会の実現のために、機器の故障予知や異常検知を機械学習でより正確に行う取り組みが進んでいる。
    特に航空機では、早期かつ正確な異常検知と的確なメンテナンスが必須である。
  </p>
  <p>参考資料：<br>
    <a href="https://www.meti.go.jp/shingikai/sankoshin/seizo_sangyo/kokuki_uchu/pdf/2023_001_07_00.pdf" target="_blank">
      民間航空機用エンジンMRO検討会 議論のとりまとめ
    </a>
  </p>

  <h2>🎯 目的</h2>
  <ul>
    <li>ターボエンジンの使用状況から残存耐用時間（RUL）を予測し、メンテナンス時期を最適化すること。</li>
    <li>本モデルを応用して、他の機器にも残存耐用時間予測を適用可能にすること。</li>
  </ul>

  <h2>📝 概要</h2>
  <p>ターボエンジンの使用状況データをもとに、RULを予測する。</p>

  <h2>🧠 アプローチの理由</h2>
  <p>過学習への対応としてスタッキングによるアンサンブル学習を採用。</p>
  <ul>
    <li><strong>LightGBM：</strong> 高速な学習のためメタモデルに採用</li>
    <li><strong>XGBoost：</strong> 精度重視のサブモデル</li>
    <li><strong>ランダムフォレスト：</strong> 安定性と過学習抑制のため</li>
    <li><strong>CatBoost：</strong> カテゴリ変数対応のため</li>
  </ul>

  <h2>📈 成果物（出力結果）</h2>
  <h3>【使用したデータセット】</h3>
  <p>Nishikaの終了済みコンペを使用。<br>
    ・航空機ターボエンジンの残存耐用時間（RUL）予測<br>
    <a href="https://competition.nishika.com/competitions/turbofan/summary" target="_blank">
      https://competition.nishika.com/competitions/turbofan/summary
    </a><br>
    ・ターボエンジンの使用状況からあと何回使用できるかを予測する。</p>

  <h3>【予測結果】</h3>
  <p>評価データの予測結果　RMSE23.647268<br>
  ・残りの使用可能回数を予測して誤差２４回の精度。</p>

  <h3>【データセットの概要】</h3>
  <p>本コンペでは2種類のデータセットが用意されてた。</p>
  <p>①元データ<br>
  ・エンジンの使用状況に関するデータ。使用回数や高度や速度、各種タービンの調整状況など。<br>
  ・カラム46個、データは数百万件ほど。</p>
  <p>②統計データ<br>
  ・元データをいくつかの統計量にまとめたもの。（最小、中央、最大値、平均値、初期値、最終値、標準偏差）<br>
  ・カラム284個データは5千件ほど。</p>
  <h4>【データセットについての補足】</h4>
  <ul>
    <li>元データも統計データも学習用評価用、２種類のデータセットが用意されてた。</li>
    <li>これらのデータはエンジンの名前ごとにfileが分かれており、データ内ではエンジンのunitとその使用回数（cycle）のカラムが存在している。</li>
    <li>目的変数YはRUL、残存耐用時間。最終的にはエンジン名とユニット名の組み合わせに対し予測結果をまとめる必要があった。</li>
    <li>元データの方がいろんな分析に挑戦できそうだったが、データサイズの関係で自分の環境では分析ができなかったため、統計データを使用することにした。</li>
  </ul>

  <h3>【実際の作業フロー】</h3>
  <ol>
    <li>同一の値を持つ特徴量が多く発見されたため、削除。</li>
    <li>学習データと評価データで使用回数の範囲が異なっていたため、範囲を統一。</li>
    <li>ランダムフォレストとLightgbmで特徴量重要度を調査し、特徴量を削減。</li>
    <li>重要な特徴量を使用し、Lightgbmをメタモデルとしたアンサンブル学習を実施。アンサンブル対象としてCatBoost、ランダムフォレスト、XGBoostを採用。</li>
    <li>予測結果を提出用テンプレートに合わせ整形。予測結果をまとめるときは中央値を採用。</li>
  </ol>

  <h2>🛠 工夫点と苦労点</h2>
  <h3>【工夫点】</h3>
  <ul>
    <li>unitの使用回数を示すcycleの範囲が学習データと評価データで大きく差があることを発見し、調整を実施。</li>
    <li>使用回数を示すcycleが残存耐用時間である目的変数Yと強い負の相関が見られました。このことからcycleを基準に時間経過を示すいくつかの特徴量を追加し、学習結果に影響があるかを試行した。</li>
    <li>Lightgbmなどのモデル単体では過学習の傾向がみられたため、アンサンブル学習を採用した。</li>
  </ul>

  <h3>【苦労点】</h3>
  <ul>
    <li>ドメイン知識の不足：各特徴量が何を意味しているのかの理解に時間がかかってしまった。</li>
    <li>データ理解の不足：
      <ul>
        <li>一部の調整値を統計した特徴量において最小値中央値最大値平均値初期値最終値がすべて同じ値になっていたことに気が付くのが遅くなった。</li>
        <li>すべての値が0しかない特徴量を後から発見した。</li>
      </ul>
    </li>
  </ul>

  <h2>🚀 今後の施策</h2>
  <ul>
    <li>機器の損耗状況のモニタリングとメンテナンス部門との共有</li>
    <li>エンジン以外の機器への応用</li>
    <li>よりマクロな機器への展開</li>
  </ul>

  <h2>💻 使用言語・環境</h2>
  <p>Google Colab、Python、ChatGPT</p>
</body>
</html>
